---
layout: post
title: Results (2023-06-15)
description: Python Web-frameworks Benchmark Results (2023-06-15)
date:   (2023-06-15)
categories: results
---

<script src="https://cdn.jsdelivr.net/npm/chart.js@3.2.1/dist/chart.min.js"></script>

> This benchmark provides a straightforward evaluation of Python async web-frameworks,
> with the majority of frameworks being compatible with ASGI.
> 
> While the benchmark does not assess deployment 
> (such as uvicorn versus hypercorn, etc.) or databases (ORMs, drivers),
> it seeks to evaluate the strength of the frameworks themselves. 
> The benchmark analyzes request parsing (including body, headers, formdata, and queries), routing, and responses.

Read more about the benchmark: [The Methodic](/benchmarks/about/)

# Table of contents

* [Accept a request and return HTML response with a custom dynamic header](#html)
* [Parse path params, query string, JSON body and return a json response](#api)
* [Parse uploaded file, store it on disk and return a text response](#upload)
* [Composite stats ](#composite)

<canvas id="chart" style="margin-bottom: 2em"></canvas>
<script>
    let ctx = document.getElementById('chart').getContext('2d');
    let myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['blacksheep','blacksheep','baize','starlette','baize','starlette','fastapi','fastapi','aiohttp','aiohttp','tornado','tornado','django','django',],
            datasets: [
                {
                    label: 'Single HTML response (req/s)',
                    data: ['17071','14541','12601','11788','11150','9810','8113','7042','6687','5890','3285','2826','1204','929',],
                    backgroundColor: [
                        '#b9ddf1', '#afd6ed', '#a5cfe9', '#9bc7e4', '#92c0df', '#89b8da', '#80b0d5',
                    ].reverse()
                },
                {
                    label: 'Work with JSON (req/s)',
                    data: ['9732','8698','7226','6258','5862','5421','5276','4619','3317','2839','2787','2248','1073','851',],
                    backgroundColor: [
                        '#b3e0a6', '#a5db96', '#98d687', '#8ed07f', '#85ca77', '#7dc370', '#75bc69',
                    ].reverse()
                },
                {
                    label: 'Upload file (req/s)',
                    data: ['5735','4598','2758','2206','2171','2147','2118','1923','1851','1766','1748','1589','804','628',],
                    backgroundColor: [
                        '#ffc685', '#fcbe75', '#f9b665', '#f7ae54', '#f5a645', '#f59c3c', '#f49234', 
                    ].reverse()
                },
            ]
        }
    });
</script>

##  Accept a request and return HTML response with a custom dynamic header {#html}

The test simulates just a single HTML response.

Sorted by max req/s

| Framework | Requests/sec | Latency 50% (ms) | Latency 75% (ms) | Latency Avg (ms) |
| --------- | -----------: | ---------------: | ---------------: | ---------------: |
| [blacksheep](https://pypi.org/project/blacksheep/) `1.2.15` | 17071 | 4.30 | 4.63 | 3.83
| [blacksheep](https://pypi.org/project/blacksheep/) `1.2.15` | 14541 | 4.68 | 5.41 | 4.49
| [baize](https://pypi.org/project/baize/) `0.20.3` | 12601 | 5.88 | 6.34 | 5.08
| [starlette](https://pypi.org/project/starlette/) `0.28.0` | 11788 | 6.41 | 6.85 | 5.39
| [baize](https://pypi.org/project/baize/) `0.20.3` | 11150 | 6.32 | 7.17 | 5.70
| [starlette](https://pypi.org/project/starlette/) `0.28.0` | 9810 | 7.01 | 8.16 | 6.50
| [fastapi](https://pypi.org/project/fastapi/) `0.97.0` | 8113 | 9.44 | 10.11 | 8.02
| [aiohttp](https://pypi.org/project/aiohttp/) `3.8.4` | 7042 | 8.92 | 9.12 | 9.09
| [fastapi](https://pypi.org/project/fastapi/) `0.97.0` | 6687 | 9.89 | 12.20 | 9.76
| [aiohttp](https://pypi.org/project/aiohttp/) `3.8.4` | 5890 | 10.59 | 11.05 | 10.88
| [tornado](https://pypi.org/project/tornado/) `6.3.2` | 3285 | 19.45 | 19.53 | 19.48
| [tornado](https://pypi.org/project/tornado/) `6.3.2` | 2826 | 22.83 | 23.13 | 22.65
| [django](https://pypi.org/project/django/) `4.2.2` | 1204 | 50.89 | 52.34 | 53.33
| [django](https://pypi.org/project/django/) `4.2.2` | 929 | 66.60 | 72.28 | 68.95


## Parse path params, query string, JSON body and return a json response  {#api}
The test simulates a simple JSON REST API endpoint.  

Sorted by max req/s

| Framework | Requests/sec | Latency 50% (ms) | Latency 75% (ms) | Latency Avg (ms) |
| --------- | -----------: | ---------------: | ---------------: | ---------------: |
| [blacksheep](https://pypi.org/project/blacksheep/) `1.2.15` | 9732 | 7.54 | 8.37 | 6.55
| [blacksheep](https://pypi.org/project/blacksheep/) `1.2.15` | 8698 | 7.80 | 9.54 | 7.32
| [starlette](https://pypi.org/project/starlette/) `0.28.0` | 7226 | 10.65 | 11.36 | 8.82
| [baize](https://pypi.org/project/baize/) `0.20.3` | 6258 | 10.37 | 10.60 | 10.21
| [starlette](https://pypi.org/project/starlette/) `0.28.0` | 5862 | 11.01 | 14.04 | 10.88
| [fastapi](https://pypi.org/project/fastapi/) `0.97.0` | 5421 | 13.93 | 15.34 | 11.78
| [baize](https://pypi.org/project/baize/) `0.20.3` | 5276 | 12.03 | 12.63 | 12.12
| [fastapi](https://pypi.org/project/fastapi/) `0.97.0` | 4619 | 14.67 | 18.02 | 13.82
| [aiohttp](https://pypi.org/project/aiohttp/) `3.8.4` | 3317 | 19.20 | 19.26 | 19.29
| [tornado](https://pypi.org/project/tornado/) `6.3.2` | 2839 | 22.52 | 22.57 | 22.55
| [aiohttp](https://pypi.org/project/aiohttp/) `3.8.4` | 2787 | 22.66 | 23.00 | 22.95
| [tornado](https://pypi.org/project/tornado/) `6.3.2` | 2248 | 28.12 | 29.36 | 28.46
| [django](https://pypi.org/project/django/) `4.2.2` | 1073 | 57.11 | 58.56 | 59.51
| [django](https://pypi.org/project/django/) `4.2.2` | 851 | 71.12 | 80.97 | 75.04


## Parse uploaded file, store it on disk and return a text response  {#upload}
The test simulates multipart formdata processing and work with files.  

Sorted by max req/s

| Framework | Requests/sec | Latency 50% (ms) | Latency 75% (ms) | Latency Avg (ms) |
| --------- | -----------: | ---------------: | ---------------: | ---------------: |
| [blacksheep](https://pypi.org/project/blacksheep/) `1.2.15` | 5735 | 11.11 | 14.55 | 11.14
| [blacksheep](https://pypi.org/project/blacksheep/) `1.2.15` | 4598 | 13.84 | 17.79 | 13.89
| [baize](https://pypi.org/project/baize/) `0.20.3` | 2758 | 22.28 | 26.09 | 23.22
| [baize](https://pypi.org/project/baize/) `0.20.3` | 2206 | 27.87 | 33.04 | 28.99
| [starlette](https://pypi.org/project/starlette/) `0.28.0` | 2171 | 35.53 | 37.54 | 29.42
| [aiohttp](https://pypi.org/project/aiohttp/) `3.8.4` | 2147 | 29.72 | 29.84 | 29.80
| [tornado](https://pypi.org/project/tornado/) `6.3.2` | 2118 | 30.08 | 30.26 | 30.19
| [fastapi](https://pypi.org/project/fastapi/) `0.97.0` | 1923 | 39.48 | 42.52 | 33.22
| [starlette](https://pypi.org/project/starlette/) `0.28.0` | 1851 | 39.62 | 44.02 | 34.50
| [tornado](https://pypi.org/project/tornado/) `6.3.2` | 1766 | 35.97 | 36.57 | 36.23
| [aiohttp](https://pypi.org/project/aiohttp/) `3.8.4` | 1748 | 36.04 | 37.44 | 36.60
| [fastapi](https://pypi.org/project/fastapi/) `0.97.0` | 1589 | 45.00 | 50.19 | 40.24
| [django](https://pypi.org/project/django/) `4.2.2` | 804 | 73.85 | 77.55 | 79.32
| [django](https://pypi.org/project/django/) `4.2.2` | 628 | 97.13 | 107.08 | 101.71


## Composite stats {#composite}
Combined benchmarks results

Sorted by completed requests

| Framework | Requests completed | Avg Latency 50% (ms) | Avg Latency 75% (ms) | Avg Latency (ms) |
| --------- | -----------------: | -------------------: | -------------------: | ---------------: |
| [blacksheep](https://pypi.org/project/blacksheep/) `1.2.15` | 488070 | 7.65 | 9.18 | 7.17
| [blacksheep](https://pypi.org/project/blacksheep/) `1.2.15` | 417555 | 8.77 | 10.91 | 8.57
| [baize](https://pypi.org/project/baize/) `0.20.3` | 324255 | 12.84 | 14.34 | 12.84
| [starlette](https://pypi.org/project/starlette/) `0.28.0` | 317775 | 17.53 | 18.58 | 14.54
| [baize](https://pypi.org/project/baize/) `0.20.3` | 279480 | 15.41 | 17.61 | 15.6
| [starlette](https://pypi.org/project/starlette/) `0.28.0` | 262845 | 19.21 | 22.07 | 17.29
| [fastapi](https://pypi.org/project/fastapi/) `0.97.0` | 231855 | 20.95 | 22.66 | 17.67
| [fastapi](https://pypi.org/project/fastapi/) `0.97.0` | 193425 | 23.19 | 26.8 | 21.27
| [aiohttp](https://pypi.org/project/aiohttp/) `3.8.4` | 187590 | 19.28 | 19.41 | 19.39
| [aiohttp](https://pypi.org/project/aiohttp/) `3.8.4` | 156375 | 23.1 | 23.83 | 23.48
| [tornado](https://pypi.org/project/tornado/) `6.3.2` | 123630 | 24.02 | 24.12 | 24.07
| [tornado](https://pypi.org/project/tornado/) `6.3.2` | 102600 | 28.97 | 29.69 | 29.11
| [django](https://pypi.org/project/django/) `4.2.2` | 46215 | 60.62 | 62.82 | 64.05
| [django](https://pypi.org/project/django/) `4.2.2` | 36120 | 78.28 | 86.78 | 81.9
